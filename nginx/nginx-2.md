# nginx - 事件驱动架构

所谓事件驱动架构，简单来说，就是由一些事件发生源来产生事件，由一个或者多个事件收集器来收集、分发事件，然后许多事件处理器会<br>
注册自己感兴趣的事件，同时会消费这些事件。

## 传统Web服务器（Apache）事件驱动

    采用的事件驱动往往局限在TCP连接建立、关闭事件上，一个连接建立以后，在其关闭之前的甩的操作都不会再是事件驱动，这时会退化<br>
成顺序执行每个操作的批处理模式。这样每个请求在连接建立后都会将始终战胜着系统资源，直到连接关闭才释放资源。传统Web服务器往往<br>
把进程或者线程作为事件消费者，当一个请求产生的事件被该进程处理时，直到这个请求处理结束时进程资源都将被这一个请求占有。

## Nginx 事件驱动

    Nginx不会使用进程或者线程来作为事件消费者，所谓的事件消费者只能是某个模块（这里没有进程的概念）。只有事件收集、分发器<br>
才有资格占用进程资源，它们会在分发某个事件调用事件消费模块使用当前占用的进程资源。

    请求的事件有：１、请求建立TCP连接事件　　２、TCP连接可读事件　　３、TCP连接关闭事件　　４、TCP连接可写事件　　　５、异步读磁盘成功事件