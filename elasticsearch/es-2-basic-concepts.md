# 基本概念
[文档地址](https://www.elastic.co/guide/en/elasticsearch/reference/current/_basic_concepts.html#_near_realtime_nrt)

# Near Realtime(NRT)  接近时时
> Elasticsearch 是一个接近于时时的搜索平台，这意味着有轻微的延迟（通常是一秒）从你建立一个<br>
文档到这个文档可搜索

# Cluster - 集群
> cluster 是一个或多个结点（服务器）一起来存储你的所有数据，在所有节点上提供联合索引和搜索功能.<br>
一个集群由一个唯一的名称默认为“Elasticsearch”, 这个很重要国为结点只能当做集群的一部分，如果<br>
结构设置以该命名加入。<br>

你得保证你在不同环境采用相同的集群名，否则你可能连接错误集群的结点。实例当中你可以用：logging-dev、<br>
logging-stage、logging-prod来开发、测试与线上生产环境的集群

# Node - 结点
> 一个结点就是一个单独的server,集群中的一部分，存储你的数据，参与集群创建索引与搜索。一个结点从一启动就<br>
被指定了一个UUID当做该结点的名字，你也可以自定义结点的名字。该名字用于管理，标识着哪个服务器在网络中集群中<br>
的哪个位置　<br>
可以通过群集名称配置节点以连接特定的群集.　默认情况下，每个结点都会加入一个名称为elasticsearch的集群里面<br>
这就意为你如果启动一些结点，假设他们能发现彼此，它们会自动组建并加入一个叫elasticsearch的集群

# Index - 索引
> 一个Index就是具有相似特性的文档集合.


# Type - 类型
> 在索引中，可以定义一个或者多个类型。　类型是索引的逻辑类别/分区，其语义完全取决于你.。

# Document - 文档
> 文档是可以被索引的信息的基本单位.

# Shards & Replicas - 碎片与副本
> 索引可以存储大量的数据，这些数据可能超过单个节点的硬件限制.。<br>
例如，十亿个文件占用磁盘空间1TB的单指标可能不适合对单个节点的磁盘或可能太慢服务仅从单个节点的搜索请求。<br>
为了解决这一问题，Elasticsearch提供细分你的指标分成多个块称为碎片的能力。当你创建一个索引，你可以简单地定义你想要的碎片数量。<br>
每个碎片本身是一个全功能的、独立的“指数”，可以托管在集群中的任何节点。<br>

* 碎片可以水平拆分／衡量内容卷

* 碎片可以分配和并行操作的碎片（可能在多个节点上）从而提高性能/吞吐量

> 机器上碎片如何分发和文档如何聚合到搜索请求完全是由Elasticsearch来管理，对于用户完全是透明的

> 在一个网络／云　环境中，失败往往是随时都可能发生的。所以一个故障转移机制是非常必要的，对于碎片或者一个结点下线<br>
或者消失无论什么原因。为此，Elasticsearch允许生成一个或者多个索引的碎片副本

* 副本提供了高可用性防止一个碎片／结点失效，所以需要注意的是，副本碎片不会放在同一个节点作为原始／主碎片上

* 副本允许您扩展您的搜索量/吞吐量，因为搜索可以在所有副本上并行执行.。

> 总结一下，每个索引可以拆分成多个碎片。索引也可以复制零（意思是没有副本）或更多次.。一旦复制，每个索引都有了初步的碎片<br>
（原碎片进行复制），复制碎片（主要碎片的副本）。碎片和副本数量可以定义索引时创建索引。创建索引后，你可以随时改变副本动态数量，<br>
但你不能在事实上改变数量的碎片。

> 默认情况下，每个Elasticsearch上的索引有５个主碎片和一个副本，也就是说如说集群中有至少两个结点。你的索引会拥有５个主碎片<br>
和另外５个副本碎片（一个完整的副本）即至少10个碎片一个索引


# 注
> 每个Elasticsearch 碎片都是一个Lucene索引。一个Lucene索引最大拥有的文件数量是：　Lucene-5843  2,147,483519(=Integer.MAX_VALUE - 128)个<br>
可以用碎片监控api查看：　_cat/shards
